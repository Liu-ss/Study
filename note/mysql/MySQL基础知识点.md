# MySQL基础知识点

[面试常问](https://mp.weixin.qq.com/s/Ad3PJM3sBKJD2j2NvMno7w)

## 1.事务隔离级别

| 隔离级别                     | 脏读 | 不可重复读 | 幻读 |
| ---------------------------- | ---- | ---------- | ---- |
| 串行化（Serializable）       | 无   | 无         | 无   |
| 读已提交（Read Committed）   | 无   | 无         | 有   |
| 可重复读（Repeatable Read）  | 无   | 有         | 有   |
| 读未提交（Read Uncommitted） | 有   | 有         | 有   |

脏读：一个事务读到另一个事物尚未提交的内容

不可重复读【注重于数据的修改】：在一个事务中多次读取同一个数据，结果出现不一致

幻读【注重于数据的插入】：在一个事务中，使用相同的SQL两次读取，第二次读取到另一个事务插入的数据



## 2.常见索引类型

常见索引有 hash索引、B+树、B树

hash：底层就是hash表，根据key调用hash函数计算出hashcode然后根据hashcode找到对应数据行地址，根据地址拿到相应数据

B树：是多路搜索树，N路代表一个节点最多能有 N个子节点，B树节点存储了 key + 指向下一个节点的指针 + 指向key属于记录的地址 

B+树：与B树的主要区别在 ---> 非叶子节点存储：key + 指向下一个节点的指针

​			此外，B+树的叶子节点之间通过指针来连接，构成一个有序链表，因此对整棵树的遍历只需要遍历叶子节点就可以



## 3.主键索引和普通索引

**MyISAM：**

**主键索引**和**辅助索引**（普通索引）都存储了key 和 key对应的数据行地址

**InnoDB：**

- **主键索引**存储了key key对应的数据行地址
- **普通索引**存储了 key 和 key对应的主键值【因此在使用辅助索引时，需要回表，第一次查出来了主键值，然后再回表根据主键值查询对应的数据】

## 4.聚簇索引

聚簇索引是一种数据存储方式，聚簇索引将**索引**和**数据行**放到了一块，找到索引，也就找到了数据，无需回表，所以效率很高

InNoDB必然有切只有一个聚簇索引：通常是主键，如果没有主键，则会优先选择非空的唯一索引，如果没有唯一索引，则会创建一个隐藏的row_id作为聚簇索引

*非聚簇索引是将索引和数据行分开存放，找到索引后，需要找到对应的地址，然后根据地址找到数据行【MyISAM的索引方式就是非聚簇索引】*



